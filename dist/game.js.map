{"version":3,"sources":["game.js"],"names":["gameScene","Phaser","Scene","config","type","AUTO","width","height","scene","game","Game","init","playerSpeed","enemyMaxY","enemyMinY","preload","load","image","create","bg","add","sprite","setOrigin","player","sys","setScale","treasure","enemies","group","key","repeat","setXY","x","y","stepX","stepY","Actions","ScaleXY","getChildren","update","input","activePointer","isDown","Geom","Intersects","RectangleToRectangle","getBounds","gameOver","restart"],"mappings":"AAAA,IAAIA,SAAS,GAAG,IAAIC,MAAM,CAACC,KAAX,CAAiB,MAAjB,CAAhB;AAEA,IAAIC,MAAM,GAAG;AACTC,EAAAA,IAAI,EAAEH,MAAM,CAACI,IADJ;AAETC,EAAAA,KAAK,EAAE,GAFE;AAGTC,EAAAA,MAAM,EAAE,GAHC;AAITC,EAAAA,KAAK,EAAER;AAJE,CAAb;AAOA,IAAIS,IAAI,GAAG,IAAIR,MAAM,CAACS,IAAX,CAAgBP,MAAhB,CAAX;;AAEAH,SAAS,CAACW,IAAV,GAAiB,YAAW;AACxB,OAAKC,WAAL,GAAmB,GAAnB;AACA,OAAKC,SAAL,GAAiB,GAAjB;AACA,OAAKC,SAAL,GAAiB,EAAjB;AACH,CAJD;;AAMAd,SAAS,CAACe,OAAV,GAAoB,YAAW;AAC3B,OAAKC,IAAL,CAAUC,KAAV,CAAgB,YAAhB,EAA8B,2BAA9B;AACA,OAAKD,IAAL,CAAUC,KAAV,CAAgB,QAAhB,EAA0B,uBAA1B;AACA,OAAKD,IAAL,CAAUC,KAAV,CAAgB,QAAhB,EAA0B,+BAA1B;AACA,OAAKD,IAAL,CAAUC,KAAV,CAAgB,UAAhB,EAA4B,qBAA5B;AACH,CALD;;AAOAjB,SAAS,CAACkB,MAAV,GAAmB,YAAW;AAC5B,MAAIC,EAAE,GAAG,KAAKC,GAAL,CAASC,MAAT,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,YAAtB,CAAT;AACAF,EAAAA,EAAE,CAACG,SAAH,CAAa,CAAb,EAAe,CAAf;AACA,OAAKC,MAAL,GAAc,KAAKH,GAAL,CAASC,MAAT,CAAgB,EAAhB,EAAoB,KAAKG,GAAL,CAASf,IAAT,CAAcN,MAAd,CAAqBI,MAArB,GAA8B,CAAlD,EAAqD,QAArD,CAAd;AACA,OAAKgB,MAAL,CAAYE,QAAZ,CAAqB,GAArB;AAEA,OAAKC,QAAL,GAAgB,KAAKN,GAAL,CAASC,MAAT,CAAgB,KAAKG,GAAL,CAASf,IAAT,CAAcN,MAAd,CAAqBG,KAArB,GAA6B,EAA7C,EAAiD,KAAKkB,GAAL,CAASf,IAAT,CAAcN,MAAd,CAAqBI,MAArB,GAA8B,CAA/E,EAAkF,UAAlF,CAAhB;AACA,OAAKmB,QAAL,CAAcD,QAAd,CAAuB,GAAvB;AAEA,OAAKE,OAAL,GAAe,KAAKP,GAAL,CAASQ,KAAT,CAAe;AAC1BC,IAAAA,GAAG,EAAE,QADqB;AAE1BC,IAAAA,MAAM,EAAE,CAFkB;AAG1BC,IAAAA,KAAK,EAAE;AACHC,MAAAA,CAAC,EAAE,GADA;AAEHC,MAAAA,CAAC,EAAE,GAFA;AAGHC,MAAAA,KAAK,EAAE,EAHJ;AAIHC,MAAAA,KAAK,EAAE;AAJJ;AAHmB,GAAf,CAAf;AAWGlC,EAAAA,MAAM,CAACmC,OAAP,CAAeC,OAAf,CAAuB,KAAKV,OAAL,CAAaW,WAAb,EAAvB,EAAmD,CAAC,GAApD,EAAyD,GAAzD;AACJ,CArBD;;AAuBAtC,SAAS,CAACuC,MAAV,GAAmB,YAAW;AAC1B,MAAG,KAAKC,KAAL,CAAWC,aAAX,CAAyBC,MAA5B,EAAoC;AAChC;AACA,SAAKnB,MAAL,CAAYS,CAAZ,IAAiB,KAAKpB,WAAtB;AACH;;AACD,MAAGX,MAAM,CAAC0C,IAAP,CAAYC,UAAZ,CAAuBC,oBAAvB,CAA4C,KAAKtB,MAAL,CAAYuB,SAAZ,EAA5C,EAAqE,KAAKpB,QAAL,CAAcoB,SAAd,EAArE,CAAH,EACA;AACI,SAAKC,QAAL;AACH;AACJ,CATD;;AAWA/C,SAAS,CAAC+C,QAAV,GAAqB,YAAW;AAC5B,OAAKvC,KAAL,CAAWwC,OAAX;AACH,CAFD","file":"game.js","sourceRoot":"..","sourcesContent":["let gameScene = new Phaser.Scene('Game');\n\nlet config = {\n    type: Phaser.AUTO,\n    width: 640,\n    height: 360,\n    scene: gameScene\n};\n\nlet game = new Phaser.Game(config);\n\ngameScene.init = function() {\n    this.playerSpeed = 1.5;\n    this.enemyMaxY = 280;\n    this.enemyMinY = 80;\n}\n\ngameScene.preload = function() {\n    this.load.image('background', 'images/tut/background.png');\n    this.load.image('player', 'images/tut/player.png');\n    this.load.image('dragon', 'images/tut/pet_dragon_new.png');\n    this.load.image('treasure', 'images/tut/gold.png');\n};\n\ngameScene.create = function() {\n  let bg = this.add.sprite(0, 0, 'background');\n  bg.setOrigin(0,0);\n  this.player = this.add.sprite(40, this.sys.game.config.height / 2, 'player');\n  this.player.setScale(0.5);\n  \n  this.treasure = this.add.sprite(this.sys.game.config.width - 80, this.sys.game.config.height / 2, 'treasure');\n  this.treasure.setScale(0.6);\n\n  this.enemies = this.add.group({ \n      key: 'dragon',\n      repeat: 3,\n      setXY: {\n          x: 110,\n          y: 100,\n          stepX: 80,\n          stepY: 20\n      }\n\n  });\n     Phaser.Actions.ScaleXY(this.enemies.getChildren(), -1.5, 0.5 );\n};\n\ngameScene.update = function() {\n    if(this.input.activePointer.isDown) {\n        //faire en sorte de player marche\n        this.player.x += this.playerSpeed;\n    }\n    if(Phaser.Geom.Intersects.RectangleToRectangle(this.player.getBounds(), this.treasure.getBounds()))\n    {\n        this.gameOver();\n    }\n};\n\ngameScene.gameOver = function() {\n    this.scene.restart();\n}"]}